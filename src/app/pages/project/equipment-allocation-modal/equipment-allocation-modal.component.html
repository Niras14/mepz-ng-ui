<div class="modal-body">
  <div class="row">
    <div class="col-12">
      <div class="form-group">
        <label>Department:</label>
        <span id="master_dep">{{department.code | uppercase}} - {{department.name | uppercase}}</span>
      </div>
      <div class="row g-3 align-items-center">
        <div class="col-auto">
          <label>Room:</label>
        </div>
        <div class="col-auto">
          <div class="col-auto">
            <select class="form-control" name="com_code" (change)="onRoomChange($event)">
              <option value="">-Select Room-</option>
              <option *ngFor="let room of projectRooms" [value]="room.roomId" [selected]="room.roomId === roomId">
                {{ room.name | uppercase }}
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ul ngbNav #nav="ngbNav" [(activeId)]="activeTab" class="nav-tabs mt-3">
    <li [ngbNavItem]="1">
      <button ngbNavLink>Add Equipment from Master</button>
      <ng-template ngbNavContent>
        <div class="row">
          <div class="col-md-6 border px-2 py-2">
            <div class="row g-3 align-items-center">
              <div class="col-md-6">
                <h5>Master Equipment List:</h5>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Search" [(ngModel)]="searchText"
                  (input)="searchEquipment()">
              </div>
            </div>
            <div class="row mt-2">
              <div class="col">
                <div class="tableFixHead">
                  <table id="masterEquipmentTable1" class="display table">
                    <thead>
                      <tr role="row">
                        <th></th>
                        <th>Equipment</th>
                        <th>Code</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of masterEquipmentList">
                      <!-- <tr *ngFor="let item of projectEquipments"> -->
                        <td>
                          <input class="checkbox" type="checkbox" name="" value=""
                            [checked]="projectEquipment.includes(item)"
                            (click)="selectEquipment(item)">
                            <td>{{ item.name | uppercase}}</td>
                            <td>{{ item.code | uppercase}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group border px-2 py-2">
              <div class="row mt-2">
                <div class="col">
                  <h5 class="mb-3">Equipments in Room:</h5>
                  <div class="tableFixHead">
                    <table id="projectEquipmentTable1" class="table">
                      <thead>
                        <tr role="row">
                          <th>#</th>
                          <th>Equipment</th>
                          <th>Code</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of projectEquipments; let i = index">
                          <td>{{ i+1 }}</td>
                          <td>{{ item.name | uppercase}}</td>
                          <td>{{ item.code | uppercase}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="2">
      <button ngbNavLink>Add Equipment from Existing Project</button>

        <ng-template ngbNavContent>
          <div class="row">
            <div class="col-12">
              <hr>
              <h5>Select from Existing Project</h5>
              <!-- Project, Department, Rooms dependent dropdown -->
              <form class="form-horizontal row" method="post">
                <div class="col-md-6">
                  <label class="form-label">Project</label>
                  <select class="form-control" name="project[]" multiple (change)="onProjectChange($event)">
                    <option value="">-Select Project-</option>
                    <option *ngFor="let item of projectData" [value]="item.code">{{ item.code | uppercase}} - {{ item.name
                      | uppercase}}</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <div class="col-md-12">
                    <label class="form-label">Department</label>
                    <select class="form-control" name="com_code" (change)="onDepartmentChange($event)">
                      <option value="">-Select Department-</option>
                      <option *ngFor="let department of projectDepartments" [value]="department.departmentId">{{
                        department.name | uppercase }}</option>
                    </select>
                  </div>
                  <div class="col-md-12">
                    <label class="form-label">Room</label>
                    <select class="form-control" name="com_code" (change)="onRoomChange($event)">
                      <option value="">-Select Room-</option>
                      <option *ngFor="let room of projectRooms" [value]="room.roomId">{{ room.name | uppercase }}</option>
                    </select>
                  </div>
                </div>
              </form>
            </div>
          </div>

        <div class="row">
          <div class="col-md-6 border px-2 py-2">
            <div class="row g-3 align-items-center">
              <div class="col-md-6">
                <h5>Other Equipments:</h5>
              </div>
              <!-- <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Search" [(ngModel)]="searchText"
                  (input)="searchEquipment()">
              </div> -->
            </div>
            <div class="row mt-2">
              <div class="col">
                <div class="tableFixHead">
                  <table id="masterEquipmentTable2" class="display table">
                    <thead>
                      <tr role="row">
                        <th></th>
                        <th>Equipment</th>
                        <th>Code</th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr *ngFor="let item of filteredEquipmentData">
                        <td>
                          <input class="checkbox" type="checkbox" name="" value=""
                            [checked]="projectEquipment.includes(item)"
                            (click)="selectEquipment(item)">
                        </td>
                        <td>{{ item.name | uppercase}}</td>
                        <td>{{ item.code | uppercase}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group border px-2 py-2">
              <div class="row mt-2">
                <div class="col">
                  <h5 class="mb-3">Equipments in Room:</h5>
                  <div class="tableFixHead">
                    <table id="projectEquipmentTable2" class="table">
                      <thead>
                        <tr role="row">
                          <th>#</th>
                          <th>Equipment</th>
                          <th>Code</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of projectEquipments; let i = index">
                          <td>{{ i+1 }}</td>
                          <td>{{ item.name | uppercase}}</td>
                          <td>{{ item.code | uppercase}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </li>
  </ul>

  <div [ngbNavOutlet]="nav" class="mt-2"></div>

  <div class="col-sm-12">
    <div class="col-md-12 text-center mt-3">
      <button type="submit" class="btn btn-primary px-4 me-3 m" id="add_department" (click)="saveEquipmentData()">Add</button>
      <button type="button" class="btn btn-outline-dark" (click)="activeModal.close('Close click')">Close</button>
    </div>
  </div>
</div>
